CMAKE_MINIMUM_REQUIRED(VERSION 2.6.0)
PROJECT(venom C)

LIST(APPEND CMAKE_MODULE_PATH ${CMAKE_SOURCE_DIR}/cmake/vala)

INCLUDE(FindVala)
INCLUDE(${VALA_USE_FILE})

FIND_PACKAGE(Vala "0.18.0" REQUIRED)

FIND_PACKAGE(PkgConfig)
PKG_CHECK_MODULES(GTK REQUIRED gtk+-3.0)
ADD_DEFINITIONS(${GTK_CFLAGS} ${GTK_CFLAGS_OTHER})
LINK_LIBRARIES(${GTK_LIBRARIES})
LINK_DIRECTORIES(${GTK_LIBRARY_DIRS})

vala_precompile(VALA_C
  Venom/Main.vala
  Venom/Contact.vala
  Venom/ContactList.vala
PACKAGES
  gtk+-3.0
OPTIONS
CUSTOM_VAPIS
  vapi/tox.vapi
GENERATE_VAPI
GENERATE_HEADER
)

ADD_EXECUTABLE(
	venom
  ${VALA_C}
)

# vim:set ts=2 sw=2 et:
